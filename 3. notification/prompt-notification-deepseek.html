<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notification Widget</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
        }
    </script>
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.2s ease-out;
        }
    </style>
</head>
<body class="h-full bg-gray-50 dark:bg-gray-900 transition-colors duration-300 flex items-center justify-center">
    <div class="notification-widget fixed top-4 right-4">
        <!-- Notification Bell Button -->
        <button id="notificationButton" class="relative p-2 rounded-full bg-white dark:bg-gray-800 shadow-md hover:shadow-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
            <!-- Bell Icon -->
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-700 dark:text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
            </svg>
            
            <!-- Notification Badge -->
            <span id="notificationBadge" class="absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs font-medium text-white">
                3
            </span>
        </button>
        
        <!-- Notification Popover -->
        <div id="notificationPopover" class="absolute right-0 mt-2 w-80 sm:w-96 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 opacity-0 invisible transition-all duration-300 transform -translate-y-2">
            <!-- Header -->
            <div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700">
                <h3 class="font-bold text-gray-800 dark:text-white">Notifications</h3>
                <button id="closeButton" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors duration-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            
            <!-- Notification List -->
            <div class="max-h-96 overflow-y-auto">
                <!-- Unread Notification -->
                <div class="notification-item p-4 border-b border-gray-100 dark:border-gray-700 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors duration-200 cursor-pointer">
                    <div class="flex items-start space-x-3">
                        <!-- Profile Icon -->
                        <div class="flex-shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-600 dark:text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                            </svg>
                        </div>
                        
                        <!-- Content -->
                        <div class="flex-1 min-w-0">
                            <p class="text-sm font-medium text-gray-900 dark:text-white">
                                New message from Sarah
                            </p>
                            <p class="text-sm text-gray-600 dark:text-gray-300 truncate">
                                Hey, are you available for a meeting tomorrow?
                            </p>
                        </div>
                        
                        <!-- Timestamp -->
                        <div class="flex-shrink-0 text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap">
                            2 min ago
                        </div>
                    </div>
                </div>
                
                <!-- Unread Notification -->
                <div class="notification-item p-4 border-b border-gray-100 dark:border-gray-700 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors duration-200 cursor-pointer">
                    <div class="flex items-start space-x-3">
                        <!-- Profile Icon -->
                        <div class="flex-shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-600 dark:text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                            </svg>
                        </div>
                        
                        <!-- Content -->
                        <div class="flex-1 min-w-0">
                            <p class="text-sm font-medium text-gray-900 dark:text-white">
                                Project update
                            </p>
                            <p class="text-sm text-gray-600 dark:text-gray-300 truncate">
                                The design phase has been completed ahead of schedule.
                            </p>
                        </div>
                        
                        <!-- Timestamp -->
                        <div class="flex-shrink-0 text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap">
                            5 min ago
                        </div>
                    </div>
                </div>
                
                <!-- Read Notification -->
                <div class="notification-item p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200 cursor-pointer">
                    <div class="flex items-start space-x-3">
                        <!-- Profile Icon -->
                        <div class="flex-shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-600 dark:text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                            </svg>
                        </div>
                        
                        <!-- Content -->
                        <div class="flex-1 min-w-0">
                            <p class="text-sm text-gray-900 dark:text-white">
                                System maintenance
                            </p>
                            <p class="text-sm text-gray-500 dark:text-gray-400 truncate">
                                Scheduled maintenance will occur this weekend.
                            </p>
                        </div>
                        
                        <!-- Timestamp -->
                        <div class="flex-shrink-0 text-xs text-gray-400 dark:text-gray-500 whitespace-nowrap">
                            1 hour ago
                        </div>
                    </div>
                </div>
                
                <!-- Read Notification -->
                <div class="notification-item p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200 cursor-pointer">
                    <div class="flex items-start space-x-3">
                        <!-- Profile Icon -->
                        <div class="flex-shrink-0">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-600 dark:text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                            </svg>
                        </div>
                        
                        <!-- Content -->
                        <div class="flex-1 min-w-0">
                            <p class="text-sm text-gray-900 dark:text-white">
                                Weekly report ready
                            </p>
                            <p class="text-sm text-gray-500 dark:text-gray-400 truncate">
                                Your weekly performance report is now available.
                            </p>
                        </div>
                        
                        <!-- Timestamp -->
                        <div class="flex-shrink-0 text-xs text-gray-400 dark:text-gray-500 whitespace-nowrap">
                            2 hours ago
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Footer -->
            <div class="p-3 border-t border-gray-200 dark:border-gray-700">
                <a href="#" class="block text-center text-sm font-medium text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors duration-200 py-2">
                    View All Notifications
                </a>
            </div>
        </div>
    </div>
    
    <!-- Theme Toggle Button (for demo purposes) -->
    <div class="fixed bottom-4 right-4">
        <button id="themeToggle" class="p-2 rounded-full bg-white dark:bg-gray-800 shadow-md hover:shadow-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
            <svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-yellow-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
            </svg>
            <svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-400 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
            </svg>
        </button>
    </div>

    <script>
        // DOM Elements
        const notificationButton = document.getElementById('notificationButton');
        const notificationPopover = document.getElementById('notificationPopover');
        const closeButton = document.getElementById('closeButton');
        const themeToggle = document.getElementById('themeToggle');
        const sunIcon = document.getElementById('sunIcon');
        const moonIcon = document.getElementById('moonIcon');
        const notificationBadge = document.getElementById('notificationBadge');
        const notificationItems = document.querySelectorAll('.notification-item');
        
        // Toggle notification popover
        function toggleNotificationPopover() {
            const isVisible = notificationPopover.classList.contains('opacity-100');
            
            if (isVisible) {
                // Hide popover
                notificationPopover.classList.remove('opacity-100', 'visible', 'translate-y-0');
                notificationPopover.classList.add('opacity-0', 'invisible', '-translate-y-2');
            } else {
                // Show popover
                notificationPopover.classList.remove('opacity-0', 'invisible', '-translate-y-2');
                notificationPopover.classList.add('opacity-100', 'visible', 'translate-y-0', 'fade-in');
                
                // Mark all notifications as read when opening
                markAllAsRead();
            }
        }
        
        // Mark all notifications as read
        function markAllAsRead() {
            notificationItems.forEach(item => {
                item.classList.remove('bg-blue-50', 'dark:bg-blue-900/20');
                const title = item.querySelector('p.text-sm.font-medium');
                if (title) {
                    title.classList.remove('font-medium');
                }
            });
            
            // Hide notification badge
            notificationBadge.classList.add('hidden');
        }
        
        // Toggle theme
        function toggleTheme() {
            const isDark = document.documentElement.classList.contains('dark');
            
            if (isDark) {
                document.documentElement.classList.remove('dark');
                sunIcon.classList.remove('hidden');
                moonIcon.classList.add('hidden');
            } else {
                document.documentElement.classList.add('dark');
                sunIcon.classList.add('hidden');
                moonIcon.classList.remove('hidden');
            }
        }
        
        // Close popover when clicking outside
        document.addEventListener('click', function(event) {
            const isClickInside = notificationButton.contains(event.target) || 
                                 notificationPopover.contains(event.target);
            
            if (!isClickInside && notificationPopover.classList.contains('opacity-100')) {
                toggleNotificationPopover();
            }
        });
        
        // Event Listeners
        notificationButton.addEventListener('click', toggleNotificationPopover);
        closeButton.addEventListener('click', toggleNotificationPopover);
        themeToggle.addEventListener('click', toggleTheme);
        
        // Mark notification as read when clicked
        notificationItems.forEach(item => {
            item.addEventListener('click', function() {
                this.classList.remove('bg-blue-50', 'dark:bg-blue-900/20');
                const title = this.querySelector('p.text-sm.font-medium');
                if (title) {
                    title.classList.remove('font-medium');
                }
                
                // Update badge count
                const unreadCount = document.querySelectorAll('.notification-item.bg-blue-50, .notification-item.dark\\:bg-blue-900\\/20').length;
                if (unreadCount === 0) {
                    notificationBadge.classList.add('hidden');
                } else {
                    notificationBadge.textContent = unreadCount;
                }
            });
        });
    </script>
</body>
</html>